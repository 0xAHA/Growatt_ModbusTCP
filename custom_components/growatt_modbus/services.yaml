read_inverter_data:
  name: Read Inverter Data
  description: Manually trigger a data read from the Growatt inverter
  target:
    device:
      integration: growatt_modbus
  fields:
    force_refresh:
      name: Force Refresh
      description: Force a fresh read even if within minimum interval
      default: false
      selector:
        boolean:

test_connection:
  name: Test Connection
  description: Test the connection to the Growatt inverter
  target:
    device:
      integration: growatt_modbus

get_register_data:
  name: Get Register Data
  description: Read specific Modbus registers for debugging
  target:
    device:
      integration: growatt_modbus
  fields:
    register_type:
      name: Register Type
      description: Type of registers to read
      default: "input"
      selector:
        select:
          options:
            - "input"
            - "holding"
    start_address:
      name: Start Address
      description: Starting register address
      default: 3000
      selector:
        number:
          min: 0
          max: 65535
          mode: box
    count:
      name: Register Count
      description: Number of registers to read
      default: 10
      selector:
        number:
          min: 1
          max: 50
          mode: box

update_register_map:
  name: Update Register Map
  description: Change the register mapping for the inverter
  target:
    device:
      integration: growatt_modbus
  fields:
    register_map:
      name: Register Map
      description: Select the register mapping to use
      default: "MIN_10000_VARIANT_A"
      selector:
        select:
          options:
            - "MIN_SERIES_STANDARD"
            - "MIN_10000_VARIANT_A"